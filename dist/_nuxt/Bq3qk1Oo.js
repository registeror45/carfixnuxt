import{_ as f}from"./spp0zfZc.js";import{g as c,r,c as n,o as i,b as v,a as o,w,j as g,k as b,l as d,v as m,t as _,F as x}from"./a-2ymmio.js";import{a as y}from"./BtuGy7By.js";const k={class:"login-container"},V={class:"form-group"},h={class:"form-group"},A={key:0,class:"error-message"},S=c({__name:"index",setup(C){const t=r({login:"",password:""}),a=r(""),u=async()=>{try{const e=await y.post("http://localhost:5000/api/admins/login",t.value,{withCredentials:!0});e.data.success?e.data.role==="sAdmin"?window.location.href="/admin/sAdmin":e.data.role==="yAdmin"&&(window.location.href="/admin/yAdmin"):a.value=e.data.message}catch{a.value="Ошибка при входе"}};return(e,s)=>{const p=f;return i(),n(x,null,[v(p,{to:"/"},{default:w(()=>s[2]||(s[2]=[o("button",{class:"logout-class"},"Перейти на главную страницу",-1)])),_:1}),o("div",k,[o("form",{onSubmit:g(u,["prevent"]),class:"login-form"},[s[5]||(s[5]=o("h2",{class:"form-title"},"Вход",-1)),o("div",V,[s[3]||(s[3]=o("label",{for:"username",class:"form-label"},"Имя пользователя:",-1)),d(o("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=l=>t.value.login=l),class:"form-input",placeholder:"Введите имя пользователя",required:""},null,512),[[m,t.value.login]])]),o("div",h,[s[4]||(s[4]=o("label",{for:"password",class:"form-label"},"Пароль:",-1)),d(o("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=l=>t.value.password=l),class:"form-input",placeholder:"Введите пароль",required:""},null,512),[[m,t.value.password]])]),s[6]||(s[6]=o("button",{type:"submit",class:"submit-button"},"Войти",-1)),a.value?(i(),n("p",A,_(a.value),1)):b("",!0)],32)])],64)}}});export{S as default};
