import{g as zn,a as Zn}from"./_d1bhYXs.js";var he={},ve={exports:{}},Pe={},ye={},ft;function Qn(){if(ft)return ye;ft=1,ye.byteLength=s,ye.toByteArray=T,ye.fromByteArray=y;for(var o=[],c=[],u=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,m=a.length;f<m;++f)o[f]=a[f],c[a.charCodeAt(f)]=f;c[45]=62,c[95]=63;function l(g){var S=g.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=g.indexOf("=");R===-1&&(R=S);var O=R===S?0:4-R%4;return[R,O]}function s(g){var S=l(g),R=S[0],O=S[1];return(R+O)*3/4-O}function d(g,S,R){return(S+R)*3/4-R}function T(g){var S,R=l(g),O=R[0],E=R[1],A=new u(d(g,O,E)),w=0,$=E>0?O-4:O,q;for(q=0;q<$;q+=4)S=c[g.charCodeAt(q)]<<18|c[g.charCodeAt(q+1)]<<12|c[g.charCodeAt(q+2)]<<6|c[g.charCodeAt(q+3)],A[w++]=S>>16&255,A[w++]=S>>8&255,A[w++]=S&255;return E===2&&(S=c[g.charCodeAt(q)]<<2|c[g.charCodeAt(q+1)]>>4,A[w++]=S&255),E===1&&(S=c[g.charCodeAt(q)]<<10|c[g.charCodeAt(q+1)]<<4|c[g.charCodeAt(q+2)]>>2,A[w++]=S>>8&255,A[w++]=S&255),A}function n(g){return o[g>>18&63]+o[g>>12&63]+o[g>>6&63]+o[g&63]}function h(g,S,R){for(var O,E=[],A=S;A<R;A+=3)O=(g[A]<<16&16711680)+(g[A+1]<<8&65280)+(g[A+2]&255),E.push(n(O));return E.join("")}function y(g){for(var S,R=g.length,O=R%3,E=[],A=16383,w=0,$=R-O;w<$;w+=A)E.push(h(g,w,w+A>$?$:w+A));return O===1?(S=g[R-1],E.push(o[S>>2]+o[S<<4&63]+"==")):O===2&&(S=(g[R-2]<<8)+g[R-1],E.push(o[S>>10]+o[S>>4&63]+o[S<<2&63]+"=")),E.join("")}return ye}var Ae={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ct;function ei(){return ct||(ct=1,Ae.read=function(o,c,u,a,f){var m,l,s=f*8-a-1,d=(1<<s)-1,T=d>>1,n=-7,h=u?f-1:0,y=u?-1:1,g=o[c+h];for(h+=y,m=g&(1<<-n)-1,g>>=-n,n+=s;n>0;m=m*256+o[c+h],h+=y,n-=8);for(l=m&(1<<-n)-1,m>>=-n,n+=a;n>0;l=l*256+o[c+h],h+=y,n-=8);if(m===0)m=1-T;else{if(m===d)return l?NaN:(g?-1:1)*(1/0);l=l+Math.pow(2,a),m=m-T}return(g?-1:1)*l*Math.pow(2,m-a)},Ae.write=function(o,c,u,a,f,m){var l,s,d,T=m*8-f-1,n=(1<<T)-1,h=n>>1,y=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=a?0:m-1,S=a?1:-1,R=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(s=isNaN(c)?1:0,l=n):(l=Math.floor(Math.log(c)/Math.LN2),c*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+h>=1?c+=y/d:c+=y*Math.pow(2,1-h),c*d>=2&&(l++,d/=2),l+h>=n?(s=0,l=n):l+h>=1?(s=(c*d-1)*Math.pow(2,f),l=l+h):(s=c*Math.pow(2,h-1)*Math.pow(2,f),l=0));f>=8;o[u+g]=s&255,g+=S,s/=256,f-=8);for(l=l<<f|s,T+=f;T>0;o[u+g]=l&255,g+=S,l/=256,T-=8);o[u+g-S]|=R*128}),Ae}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var lt;function Te(){return lt||(lt=1,function(o){const c=Qn(),u=ei(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=s,o.SlowBuffer=A,o.INSPECT_MAX_BYTES=50;const f=2147483647;o.kMaxLength=f,s.TYPED_ARRAY_SUPPORT=m(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function l(t){if(t>f)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return d(t,e,r)}s.poolSize=8192;function d(t,e,r){if(typeof t=="string")return y(t,e);if(ArrayBuffer.isView(t))return S(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ce(t,ArrayBuffer)||t&&ce(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(t,SharedArrayBuffer)||t&&ce(t.buffer,SharedArrayBuffer)))return R(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return s.from(i,e,r);const p=O(t);if(p)return p;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return s.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}s.from=function(t,e,r){return d(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function T(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function n(t,e,r){return T(t),t<=0?l(t):e!==void 0?typeof r=="string"?l(t).fill(e,r):l(t).fill(e):l(t)}s.alloc=function(t,e,r){return n(t,e,r)};function h(t){return T(t),l(t<0?0:E(t)|0)}s.allocUnsafe=function(t){return h(t)},s.allocUnsafeSlow=function(t){return h(t)};function y(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=w(t,e)|0;let i=l(r);const p=i.write(t,e);return p!==r&&(i=i.slice(0,p)),i}function g(t){const e=t.length<0?0:E(t.length)|0,r=l(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}function S(t){if(ce(t,Uint8Array)){const e=new Uint8Array(t);return R(e.buffer,e.byteOffset,e.byteLength)}return g(t)}function R(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,s.prototype),i}function O(t){if(s.isBuffer(t)){const e=E(t.length)|0,r=l(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Fe(t.length)?l(0):g(t);if(t.type==="Buffer"&&Array.isArray(t.data))return g(t.data)}function E(t){if(t>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return t|0}function A(t){return+t!=t&&(t=0),s.alloc(+t)}s.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==s.prototype},s.compare=function(e,r){if(ce(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),ce(r,Uint8Array)&&(r=s.from(r,r.offset,r.byteLength)),!s.isBuffer(e)||!s.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let i=e.length,p=r.length;for(let I=0,B=Math.min(i,p);I<B;++I)if(e[I]!==r[I]){i=e[I],p=r[I];break}return i<p?-1:p<i?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return s.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;const p=s.allocUnsafe(r);let I=0;for(i=0;i<e.length;++i){let B=e[i];if(ce(B,Uint8Array))I+B.length>p.length?(s.isBuffer(B)||(B=s.from(B)),B.copy(p,I)):Uint8Array.prototype.set.call(p,B,I);else if(s.isBuffer(B))B.copy(p,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=B.length}return p};function w(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ce(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let p=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return oe(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ut(t).length;default:if(p)return i?-1:oe(t).length;e=(""+e).toLowerCase(),p=!0}}s.byteLength=w;function $(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return x(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return j(this,e,r);case"base64":return M(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}s.prototype._isBuffer=!0;function q(t,e,r){const i=t[e];t[e]=t[r],t[r]=i}s.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)q(this,r,r+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)q(this,r,r+3),q(this,r+1,r+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)q(this,r,r+7),q(this,r+1,r+6),q(this,r+2,r+5),q(this,r+3,r+4);return this},s.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?x(this,0,e):$.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:s.compare(this,e)===0},s.prototype.inspect=function(){let e="";const r=o.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(s.prototype[a]=s.prototype.inspect),s.prototype.compare=function(e,r,i,p,I){if(ce(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),p===void 0&&(p=0),I===void 0&&(I=this.length),r<0||i>e.length||p<0||I>this.length)throw new RangeError("out of range index");if(p>=I&&r>=i)return 0;if(p>=I)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,p>>>=0,I>>>=0,this===e)return 0;let B=I-p,W=i-r;const re=Math.min(B,W),Q=this.slice(p,I),te=e.slice(r,i);for(let z=0;z<re;++z)if(Q[z]!==te[z]){B=Q[z],W=te[z];break}return B<W?-1:W<B?1:0};function N(t,e,r,i,p){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Fe(r)&&(r=p?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(p)return-1;r=t.length-1}else if(r<0)if(p)r=0;else return-1;if(typeof e=="string"&&(e=s.from(e,i)),s.isBuffer(e))return e.length===0?-1:C(t,e,r,i,p);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):C(t,[e],r,i,p);throw new TypeError("val must be string, number or Buffer")}function C(t,e,r,i,p){let I=1,B=t.length,W=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;I=2,B/=2,W/=2,r/=2}function re(te,z){return I===1?te[z]:te.readUInt16BE(z*I)}let Q;if(p){let te=-1;for(Q=r;Q<B;Q++)if(re(t,Q)===re(e,te===-1?0:Q-te)){if(te===-1&&(te=Q),Q-te+1===W)return te*I}else te!==-1&&(Q-=Q-te),te=-1}else for(r+W>B&&(r=B-W),Q=r;Q>=0;Q--){let te=!0;for(let z=0;z<W;z++)if(re(t,Q+z)!==re(e,z)){te=!1;break}if(te)return Q}return-1}s.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1},s.prototype.indexOf=function(e,r,i){return N(this,e,r,i,!0)},s.prototype.lastIndexOf=function(e,r,i){return N(this,e,r,i,!1)};function L(t,e,r,i){r=Number(r)||0;const p=t.length-r;i?(i=Number(i),i>p&&(i=p)):i=p;const I=e.length;i>I/2&&(i=I/2);let B;for(B=0;B<i;++B){const W=parseInt(e.substr(B*2,2),16);if(Fe(W))return B;t[r+B]=W}return B}function D(t,e,r,i){return Re(oe(e,t.length-r),t,r,i)}function K(t,e,r,i){return Re(Kn(e),t,r,i)}function J(t,e,r,i){return Re(ut(e),t,r,i)}function F(t,e,r,i){return Re(Jn(e,t.length-r),t,r,i)}s.prototype.write=function(e,r,i,p){if(r===void 0)p="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")p=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,p===void 0&&(p="utf8")):(p=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-r;if((i===void 0||i>I)&&(i=I),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");let B=!1;for(;;)switch(p){case"hex":return L(this,e,r,i);case"utf8":case"utf-8":return D(this,e,r,i);case"ascii":case"latin1":case"binary":return K(this,e,r,i);case"base64":return J(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,r,i);default:if(B)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),B=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,r){return e===0&&r===t.length?c.fromByteArray(t):c.fromByteArray(t.slice(e,r))}function x(t,e,r){r=Math.min(t.length,r);const i=[];let p=e;for(;p<r;){const I=t[p];let B=null,W=I>239?4:I>223?3:I>191?2:1;if(p+W<=r){let re,Q,te,z;switch(W){case 1:I<128&&(B=I);break;case 2:re=t[p+1],(re&192)===128&&(z=(I&31)<<6|re&63,z>127&&(B=z));break;case 3:re=t[p+1],Q=t[p+2],(re&192)===128&&(Q&192)===128&&(z=(I&15)<<12|(re&63)<<6|Q&63,z>2047&&(z<55296||z>57343)&&(B=z));break;case 4:re=t[p+1],Q=t[p+2],te=t[p+3],(re&192)===128&&(Q&192)===128&&(te&192)===128&&(z=(I&15)<<18|(re&63)<<12|(Q&63)<<6|te&63,z>65535&&z<1114112&&(B=z))}}B===null?(B=65533,W=1):B>65535&&(B-=65536,i.push(B>>>10&1023|55296),B=56320|B&1023),i.push(B),p+=W}return _(i)}const v=4096;function _(t){const e=t.length;if(e<=v)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=v));return r}function P(t,e,r){let i="";r=Math.min(t.length,r);for(let p=e;p<r;++p)i+=String.fromCharCode(t[p]&127);return i}function j(t,e,r){let i="";r=Math.min(t.length,r);for(let p=e;p<r;++p)i+=String.fromCharCode(t[p]);return i}function U(t,e,r){const i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let p="";for(let I=e;I<r;++I)p+=Wn[t[I]];return p}function X(t,e,r){const i=t.slice(e,r);let p="";for(let I=0;I<i.length-1;I+=2)p+=String.fromCharCode(i[I]+i[I+1]*256);return p}s.prototype.slice=function(e,r){const i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);const p=this.subarray(e,r);return Object.setPrototypeOf(p,s.prototype),p};function V(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||V(e,r,this.length);let p=this[e],I=1,B=0;for(;++B<r&&(I*=256);)p+=this[e+B]*I;return p},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||V(e,r,this.length);let p=this[e+--r],I=1;for(;r>0&&(I*=256);)p+=this[e+--r]*I;return p},s.prototype.readUint8=s.prototype.readUInt8=function(e,r){return e=e>>>0,r||V(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||V(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||V(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||V(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||V(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=de(function(e){e=e>>>0,G(e,"offset");const r=this[e],i=this[e+7];(r===void 0||i===void 0)&&H(e,this.length-8);const p=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,I=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(p)+(BigInt(I)<<BigInt(32))}),s.prototype.readBigUInt64BE=de(function(e){e=e>>>0,G(e,"offset");const r=this[e],i=this[e+7];(r===void 0||i===void 0)&&H(e,this.length-8);const p=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],I=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(p)<<BigInt(32))+BigInt(I)}),s.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||V(e,r,this.length);let p=this[e],I=1,B=0;for(;++B<r&&(I*=256);)p+=this[e+B]*I;return I*=128,p>=I&&(p-=Math.pow(2,8*r)),p},s.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||V(e,r,this.length);let p=r,I=1,B=this[e+--p];for(;p>0&&(I*=256);)B+=this[e+--p]*I;return I*=128,B>=I&&(B-=Math.pow(2,8*r)),B},s.prototype.readInt8=function(e,r){return e=e>>>0,r||V(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,r){e=e>>>0,r||V(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i},s.prototype.readInt16BE=function(e,r){e=e>>>0,r||V(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i},s.prototype.readInt32LE=function(e,r){return e=e>>>0,r||V(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,r){return e=e>>>0,r||V(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=de(function(e){e=e>>>0,G(e,"offset");const r=this[e],i=this[e+7];(r===void 0||i===void 0)&&H(e,this.length-8);const p=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(p)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),s.prototype.readBigInt64BE=de(function(e){e=e>>>0,G(e,"offset");const r=this[e],i=this[e+7];(r===void 0||i===void 0)&&H(e,this.length-8);const p=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(p)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)}),s.prototype.readFloatLE=function(e,r){return e=e>>>0,r||V(e,4,this.length),u.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,r){return e=e>>>0,r||V(e,4,this.length),u.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||V(e,8,this.length),u.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||V(e,8,this.length),u.read(this,e,!1,52,8)};function k(t,e,r,i,p,I){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>p||e<I)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,r,i,p){if(e=+e,r=r>>>0,i=i>>>0,!p){const W=Math.pow(2,8*i)-1;k(this,e,r,i,W,0)}let I=1,B=0;for(this[r]=e&255;++B<i&&(I*=256);)this[r+B]=e/I&255;return r+i},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,r,i,p){if(e=+e,r=r>>>0,i=i>>>0,!p){const W=Math.pow(2,8*i)-1;k(this,e,r,i,W,0)}let I=i-1,B=1;for(this[r+I]=e&255;--I>=0&&(B*=256);)this[r+I]=e/B&255;return r+i},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,1,255,0),this[r]=e&255,r+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Y(t,e,r,i,p){b(e,i,p,t,r,7);let I=Number(e&BigInt(4294967295));t[r++]=I,I=I>>8,t[r++]=I,I=I>>8,t[r++]=I,I=I>>8,t[r++]=I;let B=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=B,B=B>>8,t[r++]=B,B=B>>8,t[r++]=B,B=B>>8,t[r++]=B,r}function ee(t,e,r,i,p){b(e,i,p,t,r,7);let I=Number(e&BigInt(4294967295));t[r+7]=I,I=I>>8,t[r+6]=I,I=I>>8,t[r+5]=I,I=I>>8,t[r+4]=I;let B=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=B,B=B>>8,t[r+2]=B,B=B>>8,t[r+1]=B,B=B>>8,t[r]=B,r+8}s.prototype.writeBigUInt64LE=de(function(e,r=0){return Y(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=de(function(e,r=0){return ee(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,r,i,p){if(e=+e,r=r>>>0,!p){const re=Math.pow(2,8*i-1);k(this,e,r,i,re-1,-re)}let I=0,B=1,W=0;for(this[r]=e&255;++I<i&&(B*=256);)e<0&&W===0&&this[r+I-1]!==0&&(W=1),this[r+I]=(e/B>>0)-W&255;return r+i},s.prototype.writeIntBE=function(e,r,i,p){if(e=+e,r=r>>>0,!p){const re=Math.pow(2,8*i-1);k(this,e,r,i,re-1,-re)}let I=i-1,B=1,W=0;for(this[r+I]=e&255;--I>=0&&(B*=256);)e<0&&W===0&&this[r+I+1]!==0&&(W=1),this[r+I]=(e/B>>0)-W&255;return r+i},s.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1},s.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2},s.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2},s.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},s.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||k(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4},s.prototype.writeBigInt64LE=de(function(e,r=0){return Y(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=de(function(e,r=0){return ee(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(t,e,r,i,p,I){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function fe(t,e,r,i,p){return e=+e,r=r>>>0,p||Z(t,e,r,4),u.write(t,e,r,i,23,4),r+4}s.prototype.writeFloatLE=function(e,r,i){return fe(this,e,r,!0,i)},s.prototype.writeFloatBE=function(e,r,i){return fe(this,e,r,!1,i)};function Se(t,e,r,i,p){return e=+e,r=r>>>0,p||Z(t,e,r,8),u.write(t,e,r,i,52,8),r+8}s.prototype.writeDoubleLE=function(e,r,i){return Se(this,e,r,!0,i)},s.prototype.writeDoubleBE=function(e,r,i){return Se(this,e,r,!1,i)},s.prototype.copy=function(e,r,i,p){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!p&&p!==0&&(p=this.length),r>=e.length&&(r=e.length),r||(r=0),p>0&&p<i&&(p=i),p===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),e.length-r<p-i&&(p=e.length-r+i);const I=p-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,p):Uint8Array.prototype.set.call(e,this.subarray(i,p),r),I},s.prototype.fill=function(e,r,i,p){if(typeof e=="string"){if(typeof r=="string"?(p=r,r=0,i=this.length):typeof i=="string"&&(p=i,i=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!s.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(e.length===1){const B=e.charCodeAt(0);(p==="utf8"&&B<128||p==="latin1")&&(e=B)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let I;if(typeof e=="number")for(I=r;I<i;++I)this[I]=e;else{const B=s.isBuffer(e)?e:s.from(e,p),W=B.length;if(W===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(I=0;I<i-r;++I)this[I+r]=B[I%W]}return this};const pe={};function Ee(t,e,r){pe[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(p){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:p,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,p=r;return Number.isInteger(r)&&Math.abs(r)>2**32?p=Ie(String(r)):typeof r=="bigint"&&(p=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(p=Ie(p)),p+="n"),i+=` It must be ${e}. Received ${p}`,i},RangeError);function Ie(t){let e="",r=t.length;const i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function _e(t,e,r){G(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&H(e,t.length-(r+1))}function b(t,e,r,i,p,I){if(t>r||t<e){const B=typeof e=="bigint"?"n":"";let W;throw e===0||e===BigInt(0)?W=`>= 0${B} and < 2${B} ** ${(I+1)*8}${B}`:W=`>= -(2${B} ** ${(I+1)*8-1}${B}) and < 2 ** ${(I+1)*8-1}${B}`,new pe.ERR_OUT_OF_RANGE("value",W,t)}_e(i,p,I)}function G(t,e){if(typeof t!="number")throw new pe.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,r){throw Math.floor(t)!==t?(G(t,r),new pe.ERR_OUT_OF_RANGE("offset","an integer",t)):e<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,t)}const ne=/[^+/0-9A-Za-z-_]/g;function se(t){if(t=t.split("=")[0],t=t.trim().replace(ne,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function oe(t,e){e=e||1/0;let r;const i=t.length;let p=null;const I=[];for(let B=0;B<i;++B){if(r=t.charCodeAt(B),r>55295&&r<57344){if(!p){if(r>56319){(e-=3)>-1&&I.push(239,191,189);continue}else if(B+1===i){(e-=3)>-1&&I.push(239,191,189);continue}p=r;continue}if(r<56320){(e-=3)>-1&&I.push(239,191,189),p=r;continue}r=(p-55296<<10|r-56320)+65536}else p&&(e-=3)>-1&&I.push(239,191,189);if(p=null,r<128){if((e-=1)<0)break;I.push(r)}else if(r<2048){if((e-=2)<0)break;I.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;I.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;I.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return I}function Kn(t){const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Jn(t,e){let r,i,p;const I=[];for(let B=0;B<t.length&&!((e-=2)<0);++B)r=t.charCodeAt(B),i=r>>8,p=r%256,I.push(p),I.push(i);return I}function ut(t){return c.toByteArray(se(t))}function Re(t,e,r,i){let p;for(p=0;p<i&&!(p+r>=e.length||p>=t.length);++p)e[p+r]=t[p];return p}function ce(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Fe(t){return t!==t}const Wn=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const i=r*16;for(let p=0;p<16;++p)e[i+p]=t[r]+t[p]}return e}();function de(t){return typeof BigInt>"u"?Yn:t}function Yn(){throw new Error("BigInt not supported")}}(Pe)),Pe}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ht;function ge(){return ht||(ht=1,function(o,c){var u=Te(),a=u.Buffer;function f(l,s){for(var d in l)s[d]=l[d]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?o.exports=u:(f(u,c),c.Buffer=m);function m(l,s,d){return a(l,s,d)}m.prototype=Object.create(a.prototype),f(a,m),m.from=function(l,s,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return a(l,s,d)},m.alloc=function(l,s,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var T=a(l);return s!==void 0?typeof d=="string"?T.fill(s,d):T.fill(s):T.fill(0),T},m.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a(l)},m.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(l)}}(ve,ve.exports)),ve.exports}const ri={},ti=Object.freeze(Object.defineProperty({__proto__:null,default:ri},Symbol.toStringTag,{value:"Module"})),le=zn(ti);var qe,pt;function Fn(){if(pt)return qe;pt=1;var o=ge().Buffer,c=le,u=le;function a(f){if(this.buffer=null,this.writable=!0,this.readable=!0,!f)return this.buffer=o.alloc(0),this;if(typeof f.pipe=="function")return this.buffer=o.alloc(0),f.pipe(this),this;if(f.length||typeof f=="object")return this.buffer=f,this.writable=!1,process.nextTick((function(){this.emit("end",f),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof f+")")}return u.inherits(a,c),a.prototype.write=function(m){this.buffer=o.concat([this.buffer,o.from(m)]),this.emit("data",m)},a.prototype.end=function(m){m&&this.write(m),this.emit("end",m),this.emit("close"),this.writable=!1,this.readable=!1},qe=a,qe}var Ce,dt;function ni(){if(dt)return Ce;dt=1;var o=Te().Buffer,c=Te().SlowBuffer;Ce=u;function u(m,l){if(!o.isBuffer(m)||!o.isBuffer(l)||m.length!==l.length)return!1;for(var s=0,d=0;d<m.length;d++)s|=m[d]^l[d];return s===0}u.install=function(){o.prototype.equal=c.prototype.equal=function(l){return u(this,l)}};var a=o.prototype.equal,f=c.prototype.equal;return u.restore=function(){o.prototype.equal=a,c.prototype.equal=f},Ce}var je,mt;function ii(){if(mt)return je;mt=1;function o(a){var f=(a/8|0)+(a%8===0?0:1);return f}var c={ES256:o(256),ES384:o(384),ES512:o(521)};function u(a){var f=c[a];if(f)return f;throw new Error('Unknown algorithm "'+a+'"')}return je=u,je}var Ue,Et;function si(){if(Et)return Ue;Et=1;var o=ge().Buffer,c=ii(),u=128,a=0,f=32,m=16,l=2,s=m|f|a<<6,d=l|a<<6;function T(S){return S.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function n(S){if(o.isBuffer(S))return S;if(typeof S=="string")return o.from(S,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function h(S,R){S=n(S);var O=c(R),E=O+1,A=S.length,w=0;if(S[w++]!==s)throw new Error('Could not find expected "seq"');var $=S[w++];if($===(u|1)&&($=S[w++]),A-w<$)throw new Error('"seq" specified length of "'+$+'", only "'+(A-w)+'" remaining');if(S[w++]!==d)throw new Error('Could not find expected "int" for "r"');var q=S[w++];if(A-w-2<q)throw new Error('"r" specified length of "'+q+'", only "'+(A-w-2)+'" available');if(E<q)throw new Error('"r" specified length of "'+q+'", max of "'+E+'" is acceptable');var N=w;if(w+=q,S[w++]!==d)throw new Error('Could not find expected "int" for "s"');var C=S[w++];if(A-w!==C)throw new Error('"s" specified length of "'+C+'", expected "'+(A-w)+'"');if(E<C)throw new Error('"s" specified length of "'+C+'", max of "'+E+'" is acceptable');var L=w;if(w+=C,w!==A)throw new Error('Expected to consume entire buffer, but "'+(A-w)+'" bytes remain');var D=O-q,K=O-C,J=o.allocUnsafe(D+q+K+C);for(w=0;w<D;++w)J[w]=0;S.copy(J,w,N+Math.max(-D,0),N+q),w=O;for(var F=w;w<F+K;++w)J[w]=0;return S.copy(J,w,L+Math.max(-K,0),L+C),J=J.toString("base64"),J=T(J),J}function y(S,R,O){for(var E=0;R+E<O&&S[R+E]===0;)++E;var A=S[R+E]>=u;return A&&--E,E}function g(S,R){S=n(S);var O=c(R),E=S.length;if(E!==O*2)throw new TypeError('"'+R+'" signatures must be "'+O*2+'" bytes, saw "'+E+'"');var A=y(S,0,O),w=y(S,O,S.length),$=O-A,q=O-w,N=2+$+1+1+q,C=N<u,L=o.allocUnsafe((C?2:3)+N),D=0;return L[D++]=s,C?L[D++]=N:(L[D++]=u|1,L[D++]=N&255),L[D++]=d,L[D++]=$,A<0?(L[D++]=0,D+=S.copy(L,D,0,O)):D+=S.copy(L,D,A,O),L[D++]=d,L[D++]=q,w<0?(L[D++]=0,S.copy(L,D,O)):S.copy(L,D,O+w),L}return Ue={derToJose:h,joseToDer:g},Ue}var De,yt;function Pn(){if(yt)return De;yt=1;var o=ni(),c=ge().Buffer,u=le,a=si(),f=le,m=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,l="secret must be a string or buffer",s="key must be a string or a buffer",d="key must be a string, a buffer or an object",T=typeof u.createPublicKey=="function";T&&(s+=" or a KeyObject",l+="or a KeyObject");function n(F){if(!c.isBuffer(F)&&typeof F!="string"&&(!T||typeof F!="object"||typeof F.type!="string"||typeof F.asymmetricKeyType!="string"||typeof F.export!="function"))throw R(s)}function h(F){if(!c.isBuffer(F)&&typeof F!="string"&&typeof F!="object")throw R(d)}function y(F){if(!c.isBuffer(F)){if(typeof F=="string")return F;if(!T||typeof F!="object"||F.type!=="secret"||typeof F.export!="function")throw R(l)}}function g(F){return F.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S(F){F=F.toString();var M=4-F.length%4;if(M!==4)for(var x=0;x<M;++x)F+="=";return F.replace(/\-/g,"+").replace(/_/g,"/")}function R(F){var M=[].slice.call(arguments,1),x=f.format.bind(f,F).apply(null,M);return new TypeError(x)}function O(F){return c.isBuffer(F)||typeof F=="string"}function E(F){return O(F)||(F=JSON.stringify(F)),F}function A(F){return function(x,v){y(v),x=E(x);var _=u.createHmac("sha"+F,v),P=(_.update(x),_.digest("base64"));return g(P)}}function w(F){return function(x,v,_){var P=A(F)(x,_);return o(c.from(v),c.from(P))}}function $(F){return function(x,v){h(v),x=E(x);var _=u.createSign("RSA-SHA"+F),P=(_.update(x),_.sign(v,"base64"));return g(P)}}function q(F){return function(x,v,_){n(_),x=E(x),v=S(v);var P=u.createVerify("RSA-SHA"+F);return P.update(x),P.verify(_,v,"base64")}}function N(F){return function(x,v){h(v),x=E(x);var _=u.createSign("RSA-SHA"+F),P=(_.update(x),_.sign({key:v,padding:u.constants.RSA_PKCS1_PSS_PADDING,saltLength:u.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return g(P)}}function C(F){return function(x,v,_){n(_),x=E(x),v=S(v);var P=u.createVerify("RSA-SHA"+F);return P.update(x),P.verify({key:_,padding:u.constants.RSA_PKCS1_PSS_PADDING,saltLength:u.constants.RSA_PSS_SALTLEN_DIGEST},v,"base64")}}function L(F){var M=$(F);return function(){var v=M.apply(null,arguments);return v=a.derToJose(v,"ES"+F),v}}function D(F){var M=q(F);return function(v,_,P){_=a.joseToDer(_,"ES"+F).toString("base64");var j=M(v,_,P);return j}}function K(){return function(){return""}}function J(){return function(M,x){return x===""}}return De=function(M){var x={hs:A,rs:$,ps:N,es:L,none:K},v={hs:w,rs:q,ps:C,es:D,none:J},_=M.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!_)throw R(m,M);var P=(_[1]||_[3]).toLowerCase(),j=_[2];return{sign:x[P](j),verify:v[P](j)}},De}var ke,gt;function qn(){if(gt)return ke;gt=1;var o=Te().Buffer;return ke=function(u){return typeof u=="string"?u:typeof u=="number"||o.isBuffer(u)?u.toString():JSON.stringify(u)},ke}var Ge,wt;function oi(){if(wt)return Ge;wt=1;var o=ge().Buffer,c=Fn(),u=Pn(),a=le,f=qn(),m=le;function l(n,h){return o.from(n,h).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(n,h,y){y=y||"utf8";var g=l(f(n),"binary"),S=l(f(h),y);return m.format("%s.%s",g,S)}function d(n){var h=n.header,y=n.payload,g=n.secret||n.privateKey,S=n.encoding,R=u(h.alg),O=s(h,y,S),E=R.sign(O,g);return m.format("%s.%s",O,E)}function T(n){var h=n.secret||n.privateKey||n.key,y=new c(h);this.readable=!0,this.header=n.header,this.encoding=n.encoding,this.secret=this.privateKey=this.key=y,this.payload=new c(n.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}return m.inherits(T,a),T.prototype.sign=function(){try{var h=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",h),this.emit("data",h),this.emit("end"),this.readable=!1,h}catch(y){this.readable=!1,this.emit("error",y),this.emit("close")}},T.sign=d,Ge=T,Ge}var Me,St;function ai(){if(St)return Me;St=1;var o=ge().Buffer,c=Fn(),u=Pn(),a=le,f=qn(),m=le,l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function s(E){return Object.prototype.toString.call(E)==="[object Object]"}function d(E){if(s(E))return E;try{return JSON.parse(E)}catch{return}}function T(E){var A=E.split(".",1)[0];return d(o.from(A,"base64").toString("binary"))}function n(E){return E.split(".",2).join(".")}function h(E){return E.split(".")[2]}function y(E,A){A=A||"utf8";var w=E.split(".")[1];return o.from(w,"base64").toString(A)}function g(E){return l.test(E)&&!!T(E)}function S(E,A,w){if(!A){var $=new Error("Missing algorithm parameter for jws.verify");throw $.code="MISSING_ALGORITHM",$}E=f(E);var q=h(E),N=n(E),C=u(A);return C.verify(N,q,w)}function R(E,A){if(A=A||{},E=f(E),!g(E))return null;var w=T(E);if(!w)return null;var $=y(E);return(w.typ==="JWT"||A.json)&&($=JSON.parse($,A.encoding)),{header:w,payload:$,signature:h(E)}}function O(E){E=E||{};var A=E.secret||E.publicKey||E.key,w=new c(A);this.readable=!0,this.algorithm=E.algorithm,this.encoding=E.encoding,this.secret=this.publicKey=this.key=w,this.signature=new c(E.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}return m.inherits(O,a),O.prototype.verify=function(){try{var A=S(this.signature.buffer,this.algorithm,this.key.buffer),w=R(this.signature.buffer,this.encoding);return this.emit("done",A,w),this.emit("data",A),this.emit("end"),this.readable=!1,A}catch($){this.readable=!1,this.emit("error",$),this.emit("close")}},O.decode=R,O.isValid=g,O.verify=S,Me=O,Me}var It;function et(){if(It)return he;It=1;var o=oi(),c=ai(),u=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return he.ALGORITHMS=u,he.sign=o.sign,he.verify=c.verify,he.decode=c.decode,he.isValid=c.isValid,he.createSign=function(f){return new o(f)},he.createVerify=function(f){return new c(f)},he}var Ve,Rt;function Cn(){if(Rt)return Ve;Rt=1;var o=et();return Ve=function(c,u){u=u||{};var a=o.decode(c,u);if(!a)return null;var f=a.payload;if(typeof f=="string")try{var m=JSON.parse(f);m!==null&&typeof m=="object"&&(f=m)}catch{}return u.complete===!0?{header:a.header,payload:f,signature:a.signature}:f},Ve}var He,vt;function xe(){if(vt)return He;vt=1;var o=function(c,u){Error.call(this,c),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=c,u&&(this.inner=u)};return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,He=o,He}var Xe,At;function jn(){if(At)return Xe;At=1;var o=xe(),c=function(u,a){o.call(this,u),this.name="NotBeforeError",this.date=a};return c.prototype=Object.create(o.prototype),c.prototype.constructor=c,Xe=c,Xe}var Ke,bt;function Un(){if(bt)return Ke;bt=1;var o=xe(),c=function(u,a){o.call(this,u),this.name="TokenExpiredError",this.expiredAt=a};return c.prototype=Object.create(o.prototype),c.prototype.constructor=c,Ke=c,Ke}var Je,Tt;function ui(){if(Tt)return Je;Tt=1;var o=1e3,c=o*60,u=c*60,a=u*24,f=a*7,m=a*365.25;Je=function(n,h){h=h||{};var y=typeof n;if(y==="string"&&n.length>0)return l(n);if(y==="number"&&isFinite(n))return h.long?d(n):s(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function l(n){if(n=String(n),!(n.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(h){var y=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return y*m;case"weeks":case"week":case"w":return y*f;case"days":case"day":case"d":return y*a;case"hours":case"hour":case"hrs":case"hr":case"h":return y*u;case"minutes":case"minute":case"mins":case"min":case"m":return y*c;case"seconds":case"second":case"secs":case"sec":case"s":return y*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function s(n){var h=Math.abs(n);return h>=a?Math.round(n/a)+"d":h>=u?Math.round(n/u)+"h":h>=c?Math.round(n/c)+"m":h>=o?Math.round(n/o)+"s":n+"ms"}function d(n){var h=Math.abs(n);return h>=a?T(n,h,a,"day"):h>=u?T(n,h,u,"hour"):h>=c?T(n,h,c,"minute"):h>=o?T(n,h,o,"second"):n+" ms"}function T(n,h,y,g){var S=h>=y*1.5;return Math.round(n/y)+" "+g+(S?"s":"")}return Je}var We,xt;function Dn(){if(xt)return We;xt=1;var o=ui();return We=function(c,u){var a=u||Math.floor(Date.now()/1e3);if(typeof c=="string"){var f=o(c);return typeof f>"u"?void 0:Math.floor(a+f/1e3)}else return typeof c=="number"?a+c:void 0},We}var be={exports:{}},Ye,Bt;function Be(){if(Bt)return Ye;Bt=1;const o="2.0.0",c=256,u=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,f=c-6;return Ye={MAX_LENGTH:c,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:f,MAX_SAFE_INTEGER:u,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:o,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ye}var ze,$t;function $e(){if($t)return ze;$t=1;var o={};return ze=typeof process=="object"&&o&&o.NODE_DEBUG&&/\bsemver\b/i.test(o.NODE_DEBUG)?(...u)=>console.error("SEMVER",...u):()=>{},ze}var Lt;function we(){return Lt||(Lt=1,function(o,c){const{MAX_SAFE_COMPONENT_LENGTH:u,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:f}=Be(),m=$e();c=o.exports={};const l=c.re=[],s=c.safeRe=[],d=c.src=[],T=c.safeSrc=[],n=c.t={};let h=0;const y="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",f],[y,a]],S=O=>{for(const[E,A]of g)O=O.split(`${E}*`).join(`${E}{0,${A}}`).split(`${E}+`).join(`${E}{1,${A}}`);return O},R=(O,E,A)=>{const w=S(E),$=h++;m(O,$,E),n[O]=$,d[$]=E,T[$]=w,l[$]=new RegExp(E,A?"g":void 0),s[$]=new RegExp(w,A?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),R("MAINVERSION",`(${d[n.NUMERICIDENTIFIER]})\\.(${d[n.NUMERICIDENTIFIER]})\\.(${d[n.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${d[n.NUMERICIDENTIFIERLOOSE]})\\.(${d[n.NUMERICIDENTIFIERLOOSE]})\\.(${d[n.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${d[n.NUMERICIDENTIFIER]}|${d[n.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${d[n.NUMERICIDENTIFIERLOOSE]}|${d[n.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${d[n.PRERELEASEIDENTIFIER]}(?:\\.${d[n.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${d[n.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[n.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${y}+`),R("BUILD",`(?:\\+(${d[n.BUILDIDENTIFIER]}(?:\\.${d[n.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${d[n.MAINVERSION]}${d[n.PRERELEASE]}?${d[n.BUILD]}?`),R("FULL",`^${d[n.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${d[n.MAINVERSIONLOOSE]}${d[n.PRERELEASELOOSE]}?${d[n.BUILD]}?`),R("LOOSE",`^${d[n.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${d[n.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${d[n.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${d[n.XRANGEIDENTIFIER]})(?:\\.(${d[n.XRANGEIDENTIFIER]})(?:\\.(${d[n.XRANGEIDENTIFIER]})(?:${d[n.PRERELEASE]})?${d[n.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${d[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[n.XRANGEIDENTIFIERLOOSE]})(?:${d[n.PRERELEASELOOSE]})?${d[n.BUILD]}?)?)?`),R("XRANGE",`^${d[n.GTLT]}\\s*${d[n.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${d[n.GTLT]}\\s*${d[n.XRANGEPLAINLOOSE]}$`),R("COERCEPLAIN",`(^|[^\\d])(\\d{1,${u}})(?:\\.(\\d{1,${u}}))?(?:\\.(\\d{1,${u}}))?`),R("COERCE",`${d[n.COERCEPLAIN]}(?:$|[^\\d])`),R("COERCEFULL",d[n.COERCEPLAIN]+`(?:${d[n.PRERELEASE]})?(?:${d[n.BUILD]})?(?:$|[^\\d])`),R("COERCERTL",d[n.COERCE],!0),R("COERCERTLFULL",d[n.COERCEFULL],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${d[n.LONETILDE]}\\s+`,!0),c.tildeTrimReplace="$1~",R("TILDE",`^${d[n.LONETILDE]}${d[n.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${d[n.LONETILDE]}${d[n.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${d[n.LONECARET]}\\s+`,!0),c.caretTrimReplace="$1^",R("CARET",`^${d[n.LONECARET]}${d[n.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${d[n.LONECARET]}${d[n.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${d[n.GTLT]}\\s*(${d[n.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${d[n.GTLT]}\\s*(${d[n.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${d[n.GTLT]}\\s*(${d[n.LOOSEPLAIN]}|${d[n.XRANGEPLAIN]})`,!0),c.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${d[n.XRANGEPLAIN]})\\s+-\\s+(${d[n.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${d[n.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[n.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(be,be.exports)),be.exports}var Ze,Nt;function rt(){if(Nt)return Ze;Nt=1;const o=Object.freeze({loose:!0}),c=Object.freeze({});return Ze=a=>a?typeof a!="object"?o:a:c,Ze}var Qe,Ot;function kn(){if(Ot)return Qe;Ot=1;const o=/^[0-9]+$/,c=(a,f)=>{const m=o.test(a),l=o.test(f);return m&&l&&(a=+a,f=+f),a===f?0:m&&!l?-1:l&&!m?1:a<f?-1:1};return Qe={compareIdentifiers:c,rcompareIdentifiers:(a,f)=>c(f,a)},Qe}var er,_t;function ie(){if(_t)return er;_t=1;const o=$e(),{MAX_LENGTH:c,MAX_SAFE_INTEGER:u}=Be(),{safeRe:a,safeSrc:f,t:m}=we(),l=rt(),{compareIdentifiers:s}=kn();class d{constructor(n,h){if(h=l(h),n instanceof d){if(n.loose===!!h.loose&&n.includePrerelease===!!h.includePrerelease)return n;n=n.version}else if(typeof n!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof n}".`);if(n.length>c)throw new TypeError(`version is longer than ${c} characters`);o("SemVer",n,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const y=n.trim().match(h.loose?a[m.LOOSE]:a[m.FULL]);if(!y)throw new TypeError(`Invalid Version: ${n}`);if(this.raw=n,this.major=+y[1],this.minor=+y[2],this.patch=+y[3],this.major>u||this.major<0)throw new TypeError("Invalid major version");if(this.minor>u||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>u||this.patch<0)throw new TypeError("Invalid patch version");y[4]?this.prerelease=y[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const S=+g;if(S>=0&&S<u)return S}return g}):this.prerelease=[],this.build=y[5]?y[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(n){if(o("SemVer.compare",this.version,this.options,n),!(n instanceof d)){if(typeof n=="string"&&n===this.version)return 0;n=new d(n,this.options)}return n.version===this.version?0:this.compareMain(n)||this.comparePre(n)}compareMain(n){return n instanceof d||(n=new d(n,this.options)),s(this.major,n.major)||s(this.minor,n.minor)||s(this.patch,n.patch)}comparePre(n){if(n instanceof d||(n=new d(n,this.options)),this.prerelease.length&&!n.prerelease.length)return-1;if(!this.prerelease.length&&n.prerelease.length)return 1;if(!this.prerelease.length&&!n.prerelease.length)return 0;let h=0;do{const y=this.prerelease[h],g=n.prerelease[h];if(o("prerelease compare",h,y,g),y===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(y===void 0)return-1;if(y===g)continue;return s(y,g)}while(++h)}compareBuild(n){n instanceof d||(n=new d(n,this.options));let h=0;do{const y=this.build[h],g=n.build[h];if(o("build compare",h,y,g),y===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(y===void 0)return-1;if(y===g)continue;return s(y,g)}while(++h)}inc(n,h,y){if(n.startsWith("pre")){if(!h&&y===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const g=new RegExp(`^${this.options.loose?f[m.PRERELEASELOOSE]:f[m.PRERELEASE]}$`),S=`-${h}`.match(g);if(!S||S[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(n){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,y);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,y);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,y),this.inc("pre",h,y);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,y),this.inc("pre",h,y);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(y)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let S=this.prerelease.length;for(;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);if(S===-1){if(h===this.prerelease.join(".")&&y===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(h){let S=[h,g];y===!1&&(S=[h]),s(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=S):this.prerelease=S}break}default:throw new Error(`invalid increment argument: ${n}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return er=d,er}var rr,Ft;function me(){if(Ft)return rr;Ft=1;const o=ie();return rr=(u,a,f=!1)=>{if(u instanceof o)return u;try{return new o(u,a)}catch(m){if(!f)return null;throw m}},rr}var tr,Pt;function fi(){if(Pt)return tr;Pt=1;const o=me();return tr=(u,a)=>{const f=o(u,a);return f?f.version:null},tr}var nr,qt;function ci(){if(qt)return nr;qt=1;const o=me();return nr=(u,a)=>{const f=o(u.trim().replace(/^[=v]+/,""),a);return f?f.version:null},nr}var ir,Ct;function li(){if(Ct)return ir;Ct=1;const o=ie();return ir=(u,a,f,m,l)=>{typeof f=="string"&&(l=m,m=f,f=void 0);try{return new o(u instanceof o?u.version:u,f).inc(a,m,l).version}catch{return null}},ir}var sr,jt;function hi(){if(jt)return sr;jt=1;const o=me();return sr=(u,a)=>{const f=o(u,null,!0),m=o(a,null,!0),l=f.compare(m);if(l===0)return null;const s=l>0,d=s?f:m,T=s?m:f,n=!!d.prerelease.length;if(!!T.prerelease.length&&!n){if(!T.patch&&!T.minor)return"major";if(T.compareMain(d)===0)return T.minor&&!T.patch?"minor":"patch"}const y=n?"pre":"";return f.major!==m.major?y+"major":f.minor!==m.minor?y+"minor":f.patch!==m.patch?y+"patch":"prerelease"},sr}var or,Ut;function pi(){if(Ut)return or;Ut=1;const o=ie();return or=(u,a)=>new o(u,a).major,or}var ar,Dt;function di(){if(Dt)return ar;Dt=1;const o=ie();return ar=(u,a)=>new o(u,a).minor,ar}var ur,kt;function mi(){if(kt)return ur;kt=1;const o=ie();return ur=(u,a)=>new o(u,a).patch,ur}var fr,Gt;function Ei(){if(Gt)return fr;Gt=1;const o=me();return fr=(u,a)=>{const f=o(u,a);return f&&f.prerelease.length?f.prerelease:null},fr}var cr,Mt;function ae(){if(Mt)return cr;Mt=1;const o=ie();return cr=(u,a,f)=>new o(u,f).compare(new o(a,f)),cr}var lr,Vt;function yi(){if(Vt)return lr;Vt=1;const o=ae();return lr=(u,a,f)=>o(a,u,f),lr}var hr,Ht;function gi(){if(Ht)return hr;Ht=1;const o=ae();return hr=(u,a)=>o(u,a,!0),hr}var pr,Xt;function tt(){if(Xt)return pr;Xt=1;const o=ie();return pr=(u,a,f)=>{const m=new o(u,f),l=new o(a,f);return m.compare(l)||m.compareBuild(l)},pr}var dr,Kt;function wi(){if(Kt)return dr;Kt=1;const o=tt();return dr=(u,a)=>u.sort((f,m)=>o(f,m,a)),dr}var mr,Jt;function Si(){if(Jt)return mr;Jt=1;const o=tt();return mr=(u,a)=>u.sort((f,m)=>o(m,f,a)),mr}var Er,Wt;function Le(){if(Wt)return Er;Wt=1;const o=ae();return Er=(u,a,f)=>o(u,a,f)>0,Er}var yr,Yt;function nt(){if(Yt)return yr;Yt=1;const o=ae();return yr=(u,a,f)=>o(u,a,f)<0,yr}var gr,zt;function Gn(){if(zt)return gr;zt=1;const o=ae();return gr=(u,a,f)=>o(u,a,f)===0,gr}var wr,Zt;function Mn(){if(Zt)return wr;Zt=1;const o=ae();return wr=(u,a,f)=>o(u,a,f)!==0,wr}var Sr,Qt;function it(){if(Qt)return Sr;Qt=1;const o=ae();return Sr=(u,a,f)=>o(u,a,f)>=0,Sr}var Ir,en;function st(){if(en)return Ir;en=1;const o=ae();return Ir=(u,a,f)=>o(u,a,f)<=0,Ir}var Rr,rn;function Vn(){if(rn)return Rr;rn=1;const o=Gn(),c=Mn(),u=Le(),a=it(),f=nt(),m=st();return Rr=(s,d,T,n)=>{switch(d){case"===":return typeof s=="object"&&(s=s.version),typeof T=="object"&&(T=T.version),s===T;case"!==":return typeof s=="object"&&(s=s.version),typeof T=="object"&&(T=T.version),s!==T;case"":case"=":case"==":return o(s,T,n);case"!=":return c(s,T,n);case">":return u(s,T,n);case">=":return a(s,T,n);case"<":return f(s,T,n);case"<=":return m(s,T,n);default:throw new TypeError(`Invalid operator: ${d}`)}},Rr}var vr,tn;function Ii(){if(tn)return vr;tn=1;const o=ie(),c=me(),{safeRe:u,t:a}=we();return vr=(m,l)=>{if(m instanceof o)return m;if(typeof m=="number"&&(m=String(m)),typeof m!="string")return null;l=l||{};let s=null;if(!l.rtl)s=m.match(l.includePrerelease?u[a.COERCEFULL]:u[a.COERCE]);else{const g=l.includePrerelease?u[a.COERCERTLFULL]:u[a.COERCERTL];let S;for(;(S=g.exec(m))&&(!s||s.index+s[0].length!==m.length);)(!s||S.index+S[0].length!==s.index+s[0].length)&&(s=S),g.lastIndex=S.index+S[1].length+S[2].length;g.lastIndex=-1}if(s===null)return null;const d=s[2],T=s[3]||"0",n=s[4]||"0",h=l.includePrerelease&&s[5]?`-${s[5]}`:"",y=l.includePrerelease&&s[6]?`+${s[6]}`:"";return c(`${d}.${T}.${n}${h}${y}`,l)},vr}var Ar,nn;function Ri(){if(nn)return Ar;nn=1;class o{constructor(){this.max=1e3,this.map=new Map}get(u){const a=this.map.get(u);if(a!==void 0)return this.map.delete(u),this.map.set(u,a),a}delete(u){return this.map.delete(u)}set(u,a){if(!this.delete(u)&&a!==void 0){if(this.map.size>=this.max){const m=this.map.keys().next().value;this.delete(m)}this.map.set(u,a)}return this}}return Ar=o,Ar}var br,sn;function ue(){if(sn)return br;sn=1;const o=/\s+/g;class c{constructor(v,_){if(_=f(_),v instanceof c)return v.loose===!!_.loose&&v.includePrerelease===!!_.includePrerelease?v:new c(v.raw,_);if(v instanceof m)return this.raw=v.value,this.set=[[v]],this.formatted=void 0,this;if(this.options=_,this.loose=!!_.loose,this.includePrerelease=!!_.includePrerelease,this.raw=v.trim().replace(o," "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(j=>!R(j[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const j of this.set)if(j.length===1&&O(j[0])){this.set=[j];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let v=0;v<this.set.length;v++){v>0&&(this.formatted+="||");const _=this.set[v];for(let P=0;P<_.length;P++)P>0&&(this.formatted+=" "),this.formatted+=_[P].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(v){const P=((this.options.includePrerelease&&g)|(this.options.loose&&S))+":"+v,j=a.get(P);if(j)return j;const U=this.options.loose,X=U?d[T.HYPHENRANGELOOSE]:d[T.HYPHENRANGE];v=v.replace(X,F(this.options.includePrerelease)),l("hyphen replace",v),v=v.replace(d[T.COMPARATORTRIM],n),l("comparator trim",v),v=v.replace(d[T.TILDETRIM],h),l("tilde trim",v),v=v.replace(d[T.CARETTRIM],y),l("caret trim",v);let V=v.split(" ").map(Z=>A(Z,this.options)).join(" ").split(/\s+/).map(Z=>J(Z,this.options));U&&(V=V.filter(Z=>(l("loose invalid filter",Z,this.options),!!Z.match(d[T.COMPARATORLOOSE])))),l("range list",V);const k=new Map,Y=V.map(Z=>new m(Z,this.options));for(const Z of Y){if(R(Z))return[Z];k.set(Z.value,Z)}k.size>1&&k.has("")&&k.delete("");const ee=[...k.values()];return a.set(P,ee),ee}intersects(v,_){if(!(v instanceof c))throw new TypeError("a Range is required");return this.set.some(P=>E(P,_)&&v.set.some(j=>E(j,_)&&P.every(U=>j.every(X=>U.intersects(X,_)))))}test(v){if(!v)return!1;if(typeof v=="string")try{v=new s(v,this.options)}catch{return!1}for(let _=0;_<this.set.length;_++)if(M(this.set[_],v,this.options))return!0;return!1}}br=c;const u=Ri(),a=new u,f=rt(),m=Ne(),l=$e(),s=ie(),{safeRe:d,t:T,comparatorTrimReplace:n,tildeTrimReplace:h,caretTrimReplace:y}=we(),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:S}=Be(),R=x=>x.value==="<0.0.0-0",O=x=>x.value==="",E=(x,v)=>{let _=!0;const P=x.slice();let j=P.pop();for(;_&&P.length;)_=P.every(U=>j.intersects(U,v)),j=P.pop();return _},A=(x,v)=>(l("comp",x,v),x=N(x,v),l("caret",x),x=$(x,v),l("tildes",x),x=L(x,v),l("xrange",x),x=K(x,v),l("stars",x),x),w=x=>!x||x.toLowerCase()==="x"||x==="*",$=(x,v)=>x.trim().split(/\s+/).map(_=>q(_,v)).join(" "),q=(x,v)=>{const _=v.loose?d[T.TILDELOOSE]:d[T.TILDE];return x.replace(_,(P,j,U,X,V)=>{l("tilde",x,P,j,U,X,V);let k;return w(j)?k="":w(U)?k=`>=${j}.0.0 <${+j+1}.0.0-0`:w(X)?k=`>=${j}.${U}.0 <${j}.${+U+1}.0-0`:V?(l("replaceTilde pr",V),k=`>=${j}.${U}.${X}-${V} <${j}.${+U+1}.0-0`):k=`>=${j}.${U}.${X} <${j}.${+U+1}.0-0`,l("tilde return",k),k})},N=(x,v)=>x.trim().split(/\s+/).map(_=>C(_,v)).join(" "),C=(x,v)=>{l("caret",x,v);const _=v.loose?d[T.CARETLOOSE]:d[T.CARET],P=v.includePrerelease?"-0":"";return x.replace(_,(j,U,X,V,k)=>{l("caret",x,j,U,X,V,k);let Y;return w(U)?Y="":w(X)?Y=`>=${U}.0.0${P} <${+U+1}.0.0-0`:w(V)?U==="0"?Y=`>=${U}.${X}.0${P} <${U}.${+X+1}.0-0`:Y=`>=${U}.${X}.0${P} <${+U+1}.0.0-0`:k?(l("replaceCaret pr",k),U==="0"?X==="0"?Y=`>=${U}.${X}.${V}-${k} <${U}.${X}.${+V+1}-0`:Y=`>=${U}.${X}.${V}-${k} <${U}.${+X+1}.0-0`:Y=`>=${U}.${X}.${V}-${k} <${+U+1}.0.0-0`):(l("no pr"),U==="0"?X==="0"?Y=`>=${U}.${X}.${V}${P} <${U}.${X}.${+V+1}-0`:Y=`>=${U}.${X}.${V}${P} <${U}.${+X+1}.0-0`:Y=`>=${U}.${X}.${V} <${+U+1}.0.0-0`),l("caret return",Y),Y})},L=(x,v)=>(l("replaceXRanges",x,v),x.split(/\s+/).map(_=>D(_,v)).join(" ")),D=(x,v)=>{x=x.trim();const _=v.loose?d[T.XRANGELOOSE]:d[T.XRANGE];return x.replace(_,(P,j,U,X,V,k)=>{l("xRange",x,P,j,U,X,V,k);const Y=w(U),ee=Y||w(X),Z=ee||w(V),fe=Z;return j==="="&&fe&&(j=""),k=v.includePrerelease?"-0":"",Y?j===">"||j==="<"?P="<0.0.0-0":P="*":j&&fe?(ee&&(X=0),V=0,j===">"?(j=">=",ee?(U=+U+1,X=0,V=0):(X=+X+1,V=0)):j==="<="&&(j="<",ee?U=+U+1:X=+X+1),j==="<"&&(k="-0"),P=`${j+U}.${X}.${V}${k}`):ee?P=`>=${U}.0.0${k} <${+U+1}.0.0-0`:Z&&(P=`>=${U}.${X}.0${k} <${U}.${+X+1}.0-0`),l("xRange return",P),P})},K=(x,v)=>(l("replaceStars",x,v),x.trim().replace(d[T.STAR],"")),J=(x,v)=>(l("replaceGTE0",x,v),x.trim().replace(d[v.includePrerelease?T.GTE0PRE:T.GTE0],"")),F=x=>(v,_,P,j,U,X,V,k,Y,ee,Z,fe)=>(w(P)?_="":w(j)?_=`>=${P}.0.0${x?"-0":""}`:w(U)?_=`>=${P}.${j}.0${x?"-0":""}`:X?_=`>=${_}`:_=`>=${_}${x?"-0":""}`,w(Y)?k="":w(ee)?k=`<${+Y+1}.0.0-0`:w(Z)?k=`<${Y}.${+ee+1}.0-0`:fe?k=`<=${Y}.${ee}.${Z}-${fe}`:x?k=`<${Y}.${ee}.${+Z+1}-0`:k=`<=${k}`,`${_} ${k}`.trim()),M=(x,v,_)=>{for(let P=0;P<x.length;P++)if(!x[P].test(v))return!1;if(v.prerelease.length&&!_.includePrerelease){for(let P=0;P<x.length;P++)if(l(x[P].semver),x[P].semver!==m.ANY&&x[P].semver.prerelease.length>0){const j=x[P].semver;if(j.major===v.major&&j.minor===v.minor&&j.patch===v.patch)return!0}return!1}return!0};return br}var Tr,on;function Ne(){if(on)return Tr;on=1;const o=Symbol("SemVer ANY");class c{static get ANY(){return o}constructor(n,h){if(h=u(h),n instanceof c){if(n.loose===!!h.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),l("comparator",n,h),this.options=h,this.loose=!!h.loose,this.parse(n),this.semver===o?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(n){const h=this.options.loose?a[f.COMPARATORLOOSE]:a[f.COMPARATOR],y=n.match(h);if(!y)throw new TypeError(`Invalid comparator: ${n}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new s(y[2],this.options.loose):this.semver=o}toString(){return this.value}test(n){if(l("Comparator.test",n,this.options.loose),this.semver===o||n===o)return!0;if(typeof n=="string")try{n=new s(n,this.options)}catch{return!1}return m(n,this.operator,this.semver,this.options)}intersects(n,h){if(!(n instanceof c))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(n.value,h).test(this.value):n.operator===""?n.value===""?!0:new d(this.value,h).test(n.semver):(h=u(h),h.includePrerelease&&(this.value==="<0.0.0-0"||n.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||n.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&n.operator.startsWith(">")||this.operator.startsWith("<")&&n.operator.startsWith("<")||this.semver.version===n.semver.version&&this.operator.includes("=")&&n.operator.includes("=")||m(this.semver,"<",n.semver,h)&&this.operator.startsWith(">")&&n.operator.startsWith("<")||m(this.semver,">",n.semver,h)&&this.operator.startsWith("<")&&n.operator.startsWith(">")))}}Tr=c;const u=rt(),{safeRe:a,t:f}=we(),m=Vn(),l=$e(),s=ie(),d=ue();return Tr}var xr,an;function Oe(){if(an)return xr;an=1;const o=ue();return xr=(u,a,f)=>{try{a=new o(a,f)}catch{return!1}return a.test(u)},xr}var Br,un;function vi(){if(un)return Br;un=1;const o=ue();return Br=(u,a)=>new o(u,a).set.map(f=>f.map(m=>m.value).join(" ").trim().split(" ")),Br}var $r,fn;function Ai(){if(fn)return $r;fn=1;const o=ie(),c=ue();return $r=(a,f,m)=>{let l=null,s=null,d=null;try{d=new c(f,m)}catch{return null}return a.forEach(T=>{d.test(T)&&(!l||s.compare(T)===-1)&&(l=T,s=new o(l,m))}),l},$r}var Lr,cn;function bi(){if(cn)return Lr;cn=1;const o=ie(),c=ue();return Lr=(a,f,m)=>{let l=null,s=null,d=null;try{d=new c(f,m)}catch{return null}return a.forEach(T=>{d.test(T)&&(!l||s.compare(T)===1)&&(l=T,s=new o(l,m))}),l},Lr}var Nr,ln;function Ti(){if(ln)return Nr;ln=1;const o=ie(),c=ue(),u=Le();return Nr=(f,m)=>{f=new c(f,m);let l=new o("0.0.0");if(f.test(l)||(l=new o("0.0.0-0"),f.test(l)))return l;l=null;for(let s=0;s<f.set.length;++s){const d=f.set[s];let T=null;d.forEach(n=>{const h=new o(n.semver.version);switch(n.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!T||u(h,T))&&(T=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),T&&(!l||u(l,T))&&(l=T)}return l&&f.test(l)?l:null},Nr}var Or,hn;function xi(){if(hn)return Or;hn=1;const o=ue();return Or=(u,a)=>{try{return new o(u,a).range||"*"}catch{return null}},Or}var _r,pn;function ot(){if(pn)return _r;pn=1;const o=ie(),c=Ne(),{ANY:u}=c,a=ue(),f=Oe(),m=Le(),l=nt(),s=st(),d=it();return _r=(n,h,y,g)=>{n=new o(n,g),h=new a(h,g);let S,R,O,E,A;switch(y){case">":S=m,R=s,O=l,E=">",A=">=";break;case"<":S=l,R=d,O=m,E="<",A="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(f(n,h,g))return!1;for(let w=0;w<h.set.length;++w){const $=h.set[w];let q=null,N=null;if($.forEach(C=>{C.semver===u&&(C=new c(">=0.0.0")),q=q||C,N=N||C,S(C.semver,q.semver,g)?q=C:O(C.semver,N.semver,g)&&(N=C)}),q.operator===E||q.operator===A||(!N.operator||N.operator===E)&&R(n,N.semver))return!1;if(N.operator===A&&O(n,N.semver))return!1}return!0},_r}var Fr,dn;function Bi(){if(dn)return Fr;dn=1;const o=ot();return Fr=(u,a,f)=>o(u,a,">",f),Fr}var Pr,mn;function $i(){if(mn)return Pr;mn=1;const o=ot();return Pr=(u,a,f)=>o(u,a,"<",f),Pr}var qr,En;function Li(){if(En)return qr;En=1;const o=ue();return qr=(u,a,f)=>(u=new o(u,f),a=new o(a,f),u.intersects(a,f)),qr}var Cr,yn;function Ni(){if(yn)return Cr;yn=1;const o=Oe(),c=ae();return Cr=(u,a,f)=>{const m=[];let l=null,s=null;const d=u.sort((y,g)=>c(y,g,f));for(const y of d)o(y,a,f)?(s=y,l||(l=y)):(s&&m.push([l,s]),s=null,l=null);l&&m.push([l,null]);const T=[];for(const[y,g]of m)y===g?T.push(y):!g&&y===d[0]?T.push("*"):g?y===d[0]?T.push(`<=${g}`):T.push(`${y} - ${g}`):T.push(`>=${y}`);const n=T.join(" || "),h=typeof a.raw=="string"?a.raw:String(a);return n.length<h.length?n:a},Cr}var jr,gn;function Oi(){if(gn)return jr;gn=1;const o=ue(),c=Ne(),{ANY:u}=c,a=Oe(),f=ae(),m=(h,y,g={})=>{if(h===y)return!0;h=new o(h,g),y=new o(y,g);let S=!1;e:for(const R of h.set){for(const O of y.set){const E=d(R,O,g);if(S=S||E!==null,E)continue e}if(S)return!1}return!0},l=[new c(">=0.0.0-0")],s=[new c(">=0.0.0")],d=(h,y,g)=>{if(h===y)return!0;if(h.length===1&&h[0].semver===u){if(y.length===1&&y[0].semver===u)return!0;g.includePrerelease?h=l:h=s}if(y.length===1&&y[0].semver===u){if(g.includePrerelease)return!0;y=s}const S=new Set;let R,O;for(const L of h)L.operator===">"||L.operator===">="?R=T(R,L,g):L.operator==="<"||L.operator==="<="?O=n(O,L,g):S.add(L.semver);if(S.size>1)return null;let E;if(R&&O){if(E=f(R.semver,O.semver,g),E>0)return null;if(E===0&&(R.operator!==">="||O.operator!=="<="))return null}for(const L of S){if(R&&!a(L,String(R),g)||O&&!a(L,String(O),g))return null;for(const D of y)if(!a(L,String(D),g))return!1;return!0}let A,w,$,q,N=O&&!g.includePrerelease&&O.semver.prerelease.length?O.semver:!1,C=R&&!g.includePrerelease&&R.semver.prerelease.length?R.semver:!1;N&&N.prerelease.length===1&&O.operator==="<"&&N.prerelease[0]===0&&(N=!1);for(const L of y){if(q=q||L.operator===">"||L.operator===">=",$=$||L.operator==="<"||L.operator==="<=",R){if(C&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===C.major&&L.semver.minor===C.minor&&L.semver.patch===C.patch&&(C=!1),L.operator===">"||L.operator===">="){if(A=T(R,L,g),A===L&&A!==R)return!1}else if(R.operator===">="&&!a(R.semver,String(L),g))return!1}if(O){if(N&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===N.major&&L.semver.minor===N.minor&&L.semver.patch===N.patch&&(N=!1),L.operator==="<"||L.operator==="<="){if(w=n(O,L,g),w===L&&w!==O)return!1}else if(O.operator==="<="&&!a(O.semver,String(L),g))return!1}if(!L.operator&&(O||R)&&E!==0)return!1}return!(R&&$&&!O&&E!==0||O&&q&&!R&&E!==0||C||N)},T=(h,y,g)=>{if(!h)return y;const S=f(h.semver,y.semver,g);return S>0?h:S<0||y.operator===">"&&h.operator===">="?y:h},n=(h,y,g)=>{if(!h)return y;const S=f(h.semver,y.semver,g);return S<0?h:S>0||y.operator==="<"&&h.operator==="<="?y:h};return jr=m,jr}var Ur,wn;function at(){if(wn)return Ur;wn=1;const o=we(),c=Be(),u=ie(),a=kn(),f=me(),m=fi(),l=ci(),s=li(),d=hi(),T=pi(),n=di(),h=mi(),y=Ei(),g=ae(),S=yi(),R=gi(),O=tt(),E=wi(),A=Si(),w=Le(),$=nt(),q=Gn(),N=Mn(),C=it(),L=st(),D=Vn(),K=Ii(),J=Ne(),F=ue(),M=Oe(),x=vi(),v=Ai(),_=bi(),P=Ti(),j=xi(),U=ot(),X=Bi(),V=$i(),k=Li(),Y=Ni(),ee=Oi();return Ur={parse:f,valid:m,clean:l,inc:s,diff:d,major:T,minor:n,patch:h,prerelease:y,compare:g,rcompare:S,compareLoose:R,compareBuild:O,sort:E,rsort:A,gt:w,lt:$,eq:q,neq:N,gte:C,lte:L,cmp:D,coerce:K,Comparator:J,Range:F,satisfies:M,toComparators:x,maxSatisfying:v,minSatisfying:_,minVersion:P,validRange:j,outside:U,gtr:X,ltr:V,intersects:k,simplifyRange:Y,subset:ee,SemVer:u,re:o.re,src:o.src,tokens:o.t,SEMVER_SPEC_VERSION:c.SEMVER_SPEC_VERSION,RELEASE_TYPES:c.RELEASE_TYPES,compareIdentifiers:a.compareIdentifiers,rcompareIdentifiers:a.rcompareIdentifiers},Ur}var Dr,Sn;function _i(){return Sn||(Sn=1,Dr=at().satisfies(process.version,">=15.7.0")),Dr}var kr,In;function Fi(){return In||(In=1,kr=at().satisfies(process.version,">=16.9.0")),kr}var Gr,Rn;function Hn(){if(Rn)return Gr;Rn=1;const o=_i(),c=Fi(),u={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},a={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return Gr=function(f,m){if(!f||!m)return;const l=m.asymmetricKeyType;if(!l)return;const s=u[l];if(!s)throw new Error(`Unknown key type "${l}".`);if(!s.includes(f))throw new Error(`"alg" parameter for "${l}" key type must be one of: ${s.join(", ")}.`);if(o)switch(l){case"ec":const d=m.asymmetricKeyDetails.namedCurve,T=a[f];if(d!==T)throw new Error(`"alg" parameter "${f}" requires curve "${T}".`);break;case"rsa-pss":if(c){const n=parseInt(f.slice(-3),10),{hashAlgorithm:h,mgf1HashAlgorithm:y,saltLength:g}=m.asymmetricKeyDetails;if(h!==`sha${n}`||y!==h)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${f}.`);if(g!==void 0&&g>n>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${f}.`)}break}},Gr}var Mr,vn;function Xn(){if(vn)return Mr;vn=1;var o=at();return Mr=o.satisfies(process.version,"^6.12.0 || >=8.0.0"),Mr}var Vr,An;function Pi(){if(An)return Vr;An=1;const o=xe(),c=jn(),u=Un(),a=Cn(),f=Dn(),m=Hn(),l=Xn(),s=et(),{KeyObject:d,createSecretKey:T,createPublicKey:n}=le,h=["RS256","RS384","RS512"],y=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],S=["HS256","HS384","HS512"];return l&&(h.splice(h.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),Vr=function(R,O,E,A){typeof E=="function"&&!A&&(A=E,E={}),E||(E={}),E=Object.assign({},E);let w;if(A?w=A:w=function(D,K){if(D)throw D;return K},E.clockTimestamp&&typeof E.clockTimestamp!="number")return w(new o("clockTimestamp must be a number"));if(E.nonce!==void 0&&(typeof E.nonce!="string"||E.nonce.trim()===""))return w(new o("nonce must be a non-empty string"));if(E.allowInvalidAsymmetricKeyTypes!==void 0&&typeof E.allowInvalidAsymmetricKeyTypes!="boolean")return w(new o("allowInvalidAsymmetricKeyTypes must be a boolean"));const $=E.clockTimestamp||Math.floor(Date.now()/1e3);if(!R)return w(new o("jwt must be provided"));if(typeof R!="string")return w(new o("jwt must be a string"));const q=R.split(".");if(q.length!==3)return w(new o("jwt malformed"));let N;try{N=a(R,{complete:!0})}catch(D){return w(D)}if(!N)return w(new o("invalid token"));const C=N.header;let L;if(typeof O=="function"){if(!A)return w(new o("verify must be called asynchronous if secret or public key is provided as a callback"));L=O}else L=function(D,K){return K(null,O)};return L(C,function(D,K){if(D)return w(new o("error in secret or public key callback: "+D.message));const J=q[2].trim()!=="";if(!J&&K)return w(new o("jwt signature is required"));if(J&&!K)return w(new o("secret or public key must be provided"));if(!J&&!E.algorithms)return w(new o('please specify "none" in "algorithms" to verify unsigned tokens'));if(K!=null&&!(K instanceof d))try{K=n(K)}catch{try{K=T(typeof K=="string"?Buffer.from(K):K)}catch{return w(new o("secretOrPublicKey is not valid key material"))}}if(E.algorithms||(K.type==="secret"?E.algorithms=S:["rsa","rsa-pss"].includes(K.asymmetricKeyType)?E.algorithms=g:K.asymmetricKeyType==="ec"?E.algorithms=y:E.algorithms=h),E.algorithms.indexOf(N.header.alg)===-1)return w(new o("invalid algorithm"));if(C.alg.startsWith("HS")&&K.type!=="secret")return w(new o(`secretOrPublicKey must be a symmetric key when using ${C.alg}`));if(/^(?:RS|PS|ES)/.test(C.alg)&&K.type!=="public")return w(new o(`secretOrPublicKey must be an asymmetric key when using ${C.alg}`));if(!E.allowInvalidAsymmetricKeyTypes)try{m(C.alg,K)}catch(x){return w(x)}let F;try{F=s.verify(R,N.header.alg,K)}catch(x){return w(x)}if(!F)return w(new o("invalid signature"));const M=N.payload;if(typeof M.nbf<"u"&&!E.ignoreNotBefore){if(typeof M.nbf!="number")return w(new o("invalid nbf value"));if(M.nbf>$+(E.clockTolerance||0))return w(new c("jwt not active",new Date(M.nbf*1e3)))}if(typeof M.exp<"u"&&!E.ignoreExpiration){if(typeof M.exp!="number")return w(new o("invalid exp value"));if($>=M.exp+(E.clockTolerance||0))return w(new u("jwt expired",new Date(M.exp*1e3)))}if(E.audience){const x=Array.isArray(E.audience)?E.audience:[E.audience];if(!(Array.isArray(M.aud)?M.aud:[M.aud]).some(function(P){return x.some(function(j){return j instanceof RegExp?j.test(P):j===P})}))return w(new o("jwt audience invalid. expected: "+x.join(" or ")))}if(E.issuer&&(typeof E.issuer=="string"&&M.iss!==E.issuer||Array.isArray(E.issuer)&&E.issuer.indexOf(M.iss)===-1))return w(new o("jwt issuer invalid. expected: "+E.issuer));if(E.subject&&M.sub!==E.subject)return w(new o("jwt subject invalid. expected: "+E.subject));if(E.jwtid&&M.jti!==E.jwtid)return w(new o("jwt jwtid invalid. expected: "+E.jwtid));if(E.nonce&&M.nonce!==E.nonce)return w(new o("jwt nonce invalid. expected: "+E.nonce));if(E.maxAge){if(typeof M.iat!="number")return w(new o("iat required when maxAge is specified"));const x=f(E.maxAge,M.iat);if(typeof x>"u")return w(new o('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if($>=x+(E.clockTolerance||0))return w(new u("maxAge exceeded",new Date(x*1e3)))}if(E.complete===!0){const x=N.signature;return w(null,{header:C,payload:M,signature:x})}return w(null,M)})},Vr}var Hr,bn;function qi(){if(bn)return Hr;bn=1;var o=1/0,c=9007199254740991,u=17976931348623157e292,a=NaN,f="[object Arguments]",m="[object Function]",l="[object GeneratorFunction]",s="[object String]",d="[object Symbol]",T=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,y=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,S=parseInt;function R(b,G){for(var H=-1,ne=b?b.length:0,se=Array(ne);++H<ne;)se[H]=G(b[H],H,b);return se}function O(b,G,H,ne){for(var se=b.length,oe=H+-1;++oe<se;)if(G(b[oe],oe,b))return oe;return-1}function E(b,G,H){if(G!==G)return O(b,A,H);for(var ne=H-1,se=b.length;++ne<se;)if(b[ne]===G)return ne;return-1}function A(b){return b!==b}function w(b,G){for(var H=-1,ne=Array(b);++H<b;)ne[H]=G(H);return ne}function $(b,G){return R(G,function(H){return b[H]})}function q(b,G){return function(H){return b(G(H))}}var N=Object.prototype,C=N.hasOwnProperty,L=N.toString,D=N.propertyIsEnumerable,K=q(Object.keys,Object),J=Math.max;function F(b,G){var H=j(b)||P(b)?w(b.length,String):[],ne=H.length,se=!!ne;for(var oe in b)C.call(b,oe)&&!(se&&(oe=="length"||x(oe,ne)))&&H.push(oe);return H}function M(b){if(!v(b))return K(b);var G=[];for(var H in Object(b))C.call(b,H)&&H!="constructor"&&G.push(H);return G}function x(b,G){return G=G??c,!!G&&(typeof b=="number"||g.test(b))&&b>-1&&b%1==0&&b<G}function v(b){var G=b&&b.constructor,H=typeof G=="function"&&G.prototype||N;return b===H}function _(b,G,H,ne){b=U(b)?b:_e(b),H=H&&!ne?pe(H):0;var se=b.length;return H<0&&(H=J(se+H,0)),Z(b)?H<=se&&b.indexOf(G,H)>-1:!!se&&E(b,G,H)>-1}function P(b){return X(b)&&C.call(b,"callee")&&(!D.call(b,"callee")||L.call(b)==f)}var j=Array.isArray;function U(b){return b!=null&&k(b.length)&&!V(b)}function X(b){return ee(b)&&U(b)}function V(b){var G=Y(b)?L.call(b):"";return G==m||G==l}function k(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=c}function Y(b){var G=typeof b;return!!b&&(G=="object"||G=="function")}function ee(b){return!!b&&typeof b=="object"}function Z(b){return typeof b=="string"||!j(b)&&ee(b)&&L.call(b)==s}function fe(b){return typeof b=="symbol"||ee(b)&&L.call(b)==d}function Se(b){if(!b)return b===0?b:0;if(b=Ee(b),b===o||b===-1/0){var G=b<0?-1:1;return G*u}return b===b?b:0}function pe(b){var G=Se(b),H=G%1;return G===G?H?G-H:G:0}function Ee(b){if(typeof b=="number")return b;if(fe(b))return a;if(Y(b)){var G=typeof b.valueOf=="function"?b.valueOf():b;b=Y(G)?G+"":G}if(typeof b!="string")return b===0?b:+b;b=b.replace(T,"");var H=h.test(b);return H||y.test(b)?S(b.slice(2),H?2:8):n.test(b)?a:+b}function Ie(b){return U(b)?F(b):M(b)}function _e(b){return b?$(b,Ie(b)):[]}return Hr=_,Hr}var Xr,Tn;function Ci(){if(Tn)return Xr;Tn=1;var o="[object Boolean]",c=Object.prototype,u=c.toString;function a(m){return m===!0||m===!1||f(m)&&u.call(m)==o}function f(m){return!!m&&typeof m=="object"}return Xr=a,Xr}var Kr,xn;function ji(){if(xn)return Kr;xn=1;var o=1/0,c=17976931348623157e292,u=NaN,a="[object Symbol]",f=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt,T=Object.prototype,n=T.toString;function h(A){return typeof A=="number"&&A==O(A)}function y(A){var w=typeof A;return!!A&&(w=="object"||w=="function")}function g(A){return!!A&&typeof A=="object"}function S(A){return typeof A=="symbol"||g(A)&&n.call(A)==a}function R(A){if(!A)return A===0?A:0;if(A=E(A),A===o||A===-1/0){var w=A<0?-1:1;return w*c}return A===A?A:0}function O(A){var w=R(A),$=w%1;return w===w?$?w-$:w:0}function E(A){if(typeof A=="number")return A;if(S(A))return u;if(y(A)){var w=typeof A.valueOf=="function"?A.valueOf():A;A=y(w)?w+"":w}if(typeof A!="string")return A===0?A:+A;A=A.replace(f,"");var $=l.test(A);return $||s.test(A)?d(A.slice(2),$?2:8):m.test(A)?u:+A}return Kr=h,Kr}var Jr,Bn;function Ui(){if(Bn)return Jr;Bn=1;var o="[object Number]",c=Object.prototype,u=c.toString;function a(m){return!!m&&typeof m=="object"}function f(m){return typeof m=="number"||a(m)&&u.call(m)==o}return Jr=f,Jr}var Wr,$n;function Di(){if($n)return Wr;$n=1;var o="[object Object]";function c(y){var g=!1;if(y!=null&&typeof y.toString!="function")try{g=!!(y+"")}catch{}return g}function u(y,g){return function(S){return y(g(S))}}var a=Function.prototype,f=Object.prototype,m=a.toString,l=f.hasOwnProperty,s=m.call(Object),d=f.toString,T=u(Object.getPrototypeOf,Object);function n(y){return!!y&&typeof y=="object"}function h(y){if(!n(y)||d.call(y)!=o||c(y))return!1;var g=T(y);if(g===null)return!0;var S=l.call(g,"constructor")&&g.constructor;return typeof S=="function"&&S instanceof S&&m.call(S)==s}return Wr=h,Wr}var Yr,Ln;function ki(){if(Ln)return Yr;Ln=1;var o="[object String]",c=Object.prototype,u=c.toString,a=Array.isArray;function f(l){return!!l&&typeof l=="object"}function m(l){return typeof l=="string"||!a(l)&&f(l)&&u.call(l)==o}return Yr=m,Yr}var zr,Nn;function Gi(){if(Nn)return zr;Nn=1;var o="Expected a function",c=1/0,u=17976931348623157e292,a=NaN,f="[object Symbol]",m=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,T=parseInt,n=Object.prototype,h=n.toString;function y($,q){var N;if(typeof q!="function")throw new TypeError(o);return $=A($),function(){return--$>0&&(N=q.apply(this,arguments)),$<=1&&(q=void 0),N}}function g($){return y(2,$)}function S($){var q=typeof $;return!!$&&(q=="object"||q=="function")}function R($){return!!$&&typeof $=="object"}function O($){return typeof $=="symbol"||R($)&&h.call($)==f}function E($){if(!$)return $===0?$:0;if($=w($),$===c||$===-1/0){var q=$<0?-1:1;return q*u}return $===$?$:0}function A($){var q=E($),N=q%1;return q===q?N?q-N:q:0}function w($){if(typeof $=="number")return $;if(O($))return a;if(S($)){var q=typeof $.valueOf=="function"?$.valueOf():$;$=S(q)?q+"":q}if(typeof $!="string")return $===0?$:+$;$=$.replace(m,"");var N=s.test($);return N||d.test($)?T($.slice(2),N?2:8):l.test($)?a:+$}return zr=g,zr}var Zr,On;function Mi(){if(On)return Zr;On=1;const o=Dn(),c=Xn(),u=Hn(),a=et(),f=qi(),m=Ci(),l=ji(),s=Ui(),d=Di(),T=ki(),n=Gi(),{KeyObject:h,createSecretKey:y,createPrivateKey:g}=le,S=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];c&&S.splice(3,0,"PS256","PS384","PS512");const R={expiresIn:{isValid:function(N){return l(N)||T(N)&&N},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(N){return l(N)||T(N)&&N},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(N){return T(N)||Array.isArray(N)},message:'"audience" must be a string or array'},algorithm:{isValid:f.bind(null,S),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:T,message:'"encoding" must be a string'},issuer:{isValid:T,message:'"issuer" must be a string'},subject:{isValid:T,message:'"subject" must be a string'},jwtid:{isValid:T,message:'"jwtid" must be a string'},noTimestamp:{isValid:m,message:'"noTimestamp" must be a boolean'},keyid:{isValid:T,message:'"keyid" must be a string'},mutatePayload:{isValid:m,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:m,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:m,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},O={iat:{isValid:s,message:'"iat" should be a number of seconds'},exp:{isValid:s,message:'"exp" should be a number of seconds'},nbf:{isValid:s,message:'"nbf" should be a number of seconds'}};function E(N,C,L,D){if(!d(L))throw new Error('Expected "'+D+'" to be a plain object.');Object.keys(L).forEach(function(K){const J=N[K];if(!J){if(!C)throw new Error('"'+K+'" is not allowed in "'+D+'"');return}if(!J.isValid(L[K]))throw new Error(J.message)})}function A(N){return E(R,!1,N,"options")}function w(N){return E(O,!0,N,"payload")}const $={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},q=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return Zr=function(N,C,L,D){typeof L=="function"?(D=L,L={}):L=L||{};const K=typeof N=="object"&&!Buffer.isBuffer(N),J=Object.assign({alg:L.algorithm||"HS256",typ:K?"JWT":void 0,kid:L.keyid},L.header);function F(v){if(D)return D(v);throw v}if(!C&&L.algorithm!=="none")return F(new Error("secretOrPrivateKey must have a value"));if(C!=null&&!(C instanceof h))try{C=g(C)}catch{try{C=y(typeof C=="string"?Buffer.from(C):C)}catch{return F(new Error("secretOrPrivateKey is not valid key material"))}}if(J.alg.startsWith("HS")&&C.type!=="secret")return F(new Error(`secretOrPrivateKey must be a symmetric key when using ${J.alg}`));if(/^(?:RS|PS|ES)/.test(J.alg)){if(C.type!=="private")return F(new Error(`secretOrPrivateKey must be an asymmetric key when using ${J.alg}`));if(!L.allowInsecureKeySizes&&!J.alg.startsWith("ES")&&C.asymmetricKeyDetails!==void 0&&C.asymmetricKeyDetails.modulusLength<2048)return F(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`))}if(typeof N>"u")return F(new Error("payload is required"));if(K){try{w(N)}catch(v){return F(v)}L.mutatePayload||(N=Object.assign({},N))}else{const v=q.filter(function(_){return typeof L[_]<"u"});if(v.length>0)return F(new Error("invalid "+v.join(",")+" option for "+typeof N+" payload"))}if(typeof N.exp<"u"&&typeof L.expiresIn<"u")return F(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof N.nbf<"u"&&typeof L.notBefore<"u")return F(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{A(L)}catch(v){return F(v)}if(!L.allowInvalidAsymmetricKeyTypes)try{u(J.alg,C)}catch(v){return F(v)}const M=N.iat||Math.floor(Date.now()/1e3);if(L.noTimestamp?delete N.iat:K&&(N.iat=M),typeof L.notBefore<"u"){try{N.nbf=o(L.notBefore,M)}catch(v){return F(v)}if(typeof N.nbf>"u")return F(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof L.expiresIn<"u"&&typeof N=="object"){try{N.exp=o(L.expiresIn,M)}catch(v){return F(v)}if(typeof N.exp>"u")return F(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys($).forEach(function(v){const _=$[v];if(typeof L[v]<"u"){if(typeof N[_]<"u")return F(new Error('Bad "options.'+v+'" option. The payload already has an "'+_+'" property.'));N[_]=L[v]}});const x=L.encoding||"utf8";if(typeof D=="function")D=D&&n(D),a.createSign({header:J,privateKey:C,payload:N,encoding:x}).once("error",D).once("done",function(v){if(!L.allowInsecureKeySizes&&/^(?:RS|PS)/.test(J.alg)&&v.length<256)return D(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`));D(null,v)});else{let v=a.sign({header:J,payload:N,secret:C,encoding:x});if(!L.allowInsecureKeySizes&&/^(?:RS|PS)/.test(J.alg)&&v.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`);return v}},Zr}var Qr,_n;function Vi(){return _n||(_n=1,Qr={decode:Cn(),verify:Pi(),sign:Mi(),JsonWebTokenError:xe(),NotBeforeError:jn(),TokenExpiredError:Un()}),Qr}var Hi=Vi();const Xi=Zn(Hi);var Ki={};const Yi=(o,c,u)=>{const a=o.cookies.token;if(!a)return c.status(401).json({message:" "});try{const f=Xi.verify(a,Ki.JWT_SECRET);o.user=f,u()}catch(f){return f.name==="TokenExpiredError"?c.status(401).json({message:" "}):c.status(401).json({message:" "})}};export{Yi as default};
