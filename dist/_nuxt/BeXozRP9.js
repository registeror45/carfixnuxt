import{_ as c}from"./VLZ1h-JR.js";import{g,j as v,r,c as l,o as i,b as w,a as e,w as b,k as _,l as x,m as d,v as u,t as y,F as k}from"./CtCbi2K0.js";import{a as C}from"./BtuGy7By.js";const V={class:"login-container"},A={class:"form-group"},B={class:"form-group"},N={key:0,class:"error-message"},q=g({__name:"index",setup(M){const{public:{apiBaseUrl:m}}=v(),t=r({login:"",password:""}),a=r(""),p=async()=>{try{const o=await C.post(`${m}/api/admins/login`,t.value,{withCredentials:!0});o.data.success?o.data.role==="sAdmin"?window.location.href="/admin/sAdmin":o.data.role==="yAdmin"&&(window.location.href="/admin/yAdmin"):a.value=o.data.message}catch{a.value="Ошибка при входе"}};return(o,s)=>{const f=c;return i(),l(k,null,[w(f,{to:"/"},{default:b(()=>s[2]||(s[2]=[e("button",{class:"logout-class"},"Перейти на главную страницу",-1)])),_:1}),e("div",V,[e("form",{onSubmit:_(p,["prevent"]),class:"login-form"},[s[5]||(s[5]=e("h2",{class:"form-title"},"Вход",-1)),e("div",A,[s[3]||(s[3]=e("label",{for:"username",class:"form-label"},"Имя пользователя:",-1)),d(e("input",{type:"text",id:"username","onUpdate:modelValue":s[0]||(s[0]=n=>t.value.login=n),class:"form-input",placeholder:"Введите имя пользователя",required:""},null,512),[[u,t.value.login]])]),e("div",B,[s[4]||(s[4]=e("label",{for:"password",class:"form-label"},"Пароль:",-1)),d(e("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=n=>t.value.password=n),class:"form-input",placeholder:"Введите пароль",required:""},null,512),[[u,t.value.password]])]),s[6]||(s[6]=e("button",{type:"submit",class:"submit-button"},"Войти",-1)),a.value?(i(),l("p",N,y(a.value),1)):x("",!0)],32)])],64)}}});export{q as default};
